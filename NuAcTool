def read_command():
    command = input('Enter command:\n'
                      '     transcribe;\n'
                      '     reverse_transcription;\n'
                      '     reverse;\n'
                      '     complement;\n'
                      '     reverse_complement\n'
                      '     exit\n')
    return command

def check_seq(seq):
    for letter in seq:
        if letter not in alphabeth:
            print(f"Input is not correct RNA or DNA sequence, try again")
            return False
    if ('U' in seq or 'u' in seq) and ('T' in seq or 't' in seq):
        print(f"Input is not standard nucleic acid sequence, processing aborted")
        return False
    return True


def command_check(command):
    if command not in commands:
        print(f"'{command}' - is incorrect command")
        return False
    else:
        return True


def transcribe(seq):
    seq = seq.replace('t','u')
    seq = seq.replace('T','U')
    return seq


def reverse_transcription(seq):
    transcribed_seq = ''
    for base in seq:
        transcribed_seq += transc_rule_RNA[base]
    return transcribed_seq


def complement(seq):
    complemented_seq = ''
    if 'U' in seq or 'u' in seq:
        for base in seq:
            complemented_seq += compl_rule_RNA[base]
    else:
        for base in seq:
            complemented_seq += compl_rule_DNA[base]
    return complemented_seq


alphabeth = {'a','A','t','T','g','G','c','C','u','U'}
compl_rule_RNA = {'a':'u','A':'U','U':'A','u':'a',
              'g':'c','G':'C','c':'g','C':'G'}
compl_rule_DNA = {'a':'t','A':'T','T':'A','t':'a',
              'g':'c','G':'C','c':'g','C':'G'}
transc_rule_DNA = {'a': 'u', 'A':'U','T':'A',
              't':'a','g':'c','G':'C',
              'c':'g','C':'G'}
transc_rule_RNA = {'a': 't', 'A':'T','U':'A',
              'u':'a','g':'c','G':'C',
              'c':'g','C':'G'}
commands = {'transcribe','reverse','complement','reverse_complement','reverse_transcription','exit'}
running = True

while running:
    command = read_command()
    while command_check(command) == False:
        command = read_command()
    if command == 'exit':
        running = False
        print('Have a nice day!')
        continue
    if command == 'transcribe':
        seq = input('Provide coding DNA sequence:')
        if check_seq(seq) == False: continue
        if 'U' in seq or 'u' in seq:
            print('We do not transcribe RNA, use \'reverse_transcription\' command to get complementary DNA')
            continue
        print(transcribe(seq))
    elif command == 'reverse':
        seq = input('Provide RNA or DNA sequence:')
        if check_seq(seq) == False: continue
        print(seq[::-1])
    elif command == 'complement':
        seq = input('Provide RNA or DNA sequence:')
        if check_seq(seq) == False: continue
        print(complement(seq))
    elif command == 'reverse_complement':
        seq = input('Provide RNA or DNA sequence:')
        if check_seq(seq) == False: continue
        print(complement(seq[::-1]))
    elif command == 'reverse_transcription':
        seq = input('Provide RNA sequence:')
        if check_seq(seq) == False: continue
        if 'T' in seq or 't' in seq:
            print('Incorrect RNA sequence provided')
            continue
        print(reverse_transcription(seq[::-1]))